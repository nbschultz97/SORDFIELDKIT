:root{
  color-scheme: dark;
}

*{box-sizing:border-box}

html,body,#root{
  height:100%;
  margin:0;
  background:#040608;
  color:#e5edf7;
  font-family:'Inter','Segoe UI',system-ui,sans-serif;
  font-size:14px;
}

body{line-height:1.4;}

button{
  font:600 13px/1.2 'Inter',system-ui,sans-serif;
  padding:6px 10px;
  border-radius:6px;
  border:1px solid rgba(88,120,150,0.6);
  background:rgba(18,28,45,0.9);
  color:#e7edf8;
  cursor:pointer;
  transition:background 0.15s ease,border-color 0.15s ease,transform 0.1s ease;
}

button:hover{background:rgba(26,40,65,0.95);border-color:rgba(108,146,187,0.8);} 
button:active{transform:translateY(1px);} 
button:disabled{opacity:0.45;cursor:default;}

select{
  font:600 13px/1.2 'Inter',system-ui,sans-serif;
  padding:4px 6px;
  border-radius:6px;
  border:1px solid rgba(88,120,150,0.6);
  background:rgba(18,28,45,0.9);
  color:#f2f7ff;
}

.map-root{position:relative;height:100%;width:100%;background:#040608;}

.map-canvas{position:absolute;inset:0;}

.hud{position:absolute;display:flex;flex-direction:column;gap:12px;z-index:5;}

.hud--top-left{top:12px;left:12px;max-width:min(480px,65vw);}

.hud--right{top:12px;right:12px;bottom:12px;width:min(360px,38vw);pointer-events:none;}

.hud--right .panel{pointer-events:auto;height:100%;display:flex;flex-direction:column;}

.panel{background:rgba(5,10,18,0.85);border:1px solid rgba(88,120,150,0.38);border-radius:10px;padding:12px 14px;color:#f2f7ff;box-shadow:0 16px 32px rgba(0,0,0,0.45);backdrop-filter:blur(6px);}

.panel--compact{display:flex;flex-direction:column;gap:8px;font-size:13px;}

.panel--log{display:flex;flex-direction:column;overflow:hidden;}

.panel__row{display:flex;align-items:center;gap:8px;flex-wrap:wrap;}

.panel__row--meta{color:rgba(215,226,240,0.78);font-size:12px;}

.panel__row--alert{color:#ff9a9a;font-size:12px;}

.panel__label{display:flex;align-items:center;gap:8px;font-weight:600;font-size:13px;}

.panel__label select{margin-left:auto;}

.layer-toggles{display:flex;flex-wrap:wrap;gap:8px;}

.layer-toggle{display:flex;align-items:center;gap:6px;padding:4px 8px;border-radius:6px;background:rgba(10,16,28,0.85);border:1px solid rgba(88,120,150,0.35);color:rgba(228,236,248,0.9);font-size:12px;}

.layer-toggle input{accent-color:#4fa3ff;}

.panel__header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;font-size:14px;}

.panel__actions{display:flex;gap:6px;}

.panel__metrics{display:flex;flex-wrap:wrap;gap:12px;font-size:12px;color:rgba(215,226,240,0.78);margin-bottom:8px;}

.waypoint-list{list-style:none;margin:0;padding:0;flex:1;overflow-y:auto;border-radius:8px;background:rgba(5,12,20,0.6);border:1px solid rgba(88,120,150,0.3);}

.waypoint-list__item{padding:10px 12px;border-bottom:1px solid rgba(88,120,150,0.2);display:flex;flex-direction:column;gap:6px;}

.waypoint-list__item:last-child{border-bottom:none;}

.waypoint-list__row{display:flex;align-items:center;justify-content:space-between;gap:8px;font-size:12px;}

.waypoint-list__label{font-weight:600;font-size:13px;display:flex;align-items:center;gap:6px;}

.waypoint-list__time{color:rgba(215,226,240,0.7);}

.waypoint-list__row--meta{color:rgba(215,226,240,0.7);}

.waypoint-list__actions{display:flex;gap:6px;}

.waypoint-list__actions button{font-size:12px;padding:4px 8px;}

.waypoint-list__empty{padding:14px;text-align:center;font-size:12px;color:rgba(215,226,240,0.65);}

.wp-marker{position:relative;transform:translate(-50%,-100%);display:flex;flex-direction:column;align-items:center;pointer-events:none;}

.wp-marker__core{width:16px;height:16px;border-radius:50%;border:2px solid rgba(255,255,255,0.9);background:#d36f2b;box-shadow:0 0 0 2px rgba(4,7,12,0.7);}

.wp-marker[data-source='gps'] .wp-marker__core{background:#2ecc71;}

.wp-marker[data-source='manual'] .wp-marker__core{background:#d36f2b;}

.wp-marker__label{margin-top:4px;padding:2px 6px;border-radius:4px;font-size:11px;font-weight:700;background:rgba(6,10,16,0.92);border:1px solid rgba(88,120,150,0.6);color:#f9fbff;white-space:nowrap;}

.maplibregl-ctrl, .mapboxgl-ctrl{background:rgba(6,12,20,0.85)!important;color:#f0f4ff;border-radius:6px;border:1px solid rgba(88,120,150,0.4);}

.maplibregl-ctrl button, .mapboxgl-ctrl button{background:transparent;color:inherit;border:none;}

.maplibregl-ctrl button:hover, .mapboxgl-ctrl button:hover{background:rgba(20,32,48,0.9);}

.maplibregl-ctrl-attrib{background:rgba(6,12,20,0.7)!important;color:rgba(215,226,240,0.7)!important;}

::-webkit-scrollbar{width:8px;}

::-webkit-scrollbar-track{background:rgba(0,0,0,0.2);}

::-webkit-scrollbar-thumb{background:rgba(88,120,150,0.45);border-radius:4px;}

@media (max-width:900px){
  .hud--right{left:12px;right:12px;top:auto;width:auto;height:45vh;}
}

@media (max-width:640px){
  .hud--top-left{right:12px;max-width:none;}
  .hud--right{left:12px;right:12px;bottom:12px;top:auto;height:40vh;}
  .hud--right .panel{height:100%;}
}
