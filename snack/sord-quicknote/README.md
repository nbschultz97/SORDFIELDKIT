# SORD QuickNote Snack
**Share project:** [Open in Expo Snack][snack-link]

SORD QuickNote delivers field-friendly mapping, rapid reports, BLE reconnaissance, and photo logging without leaving Expo Go. The Snack stays binary-free and keeps every artifact in AsyncStorage so it runs offline once loaded.

## Files included
- `App.js` – React Native implementation ready for Snack.
- `package.json` – Dependency manifest compatible with Expo SDK 49.
- `SNACK_URL.txt` – Direct Snack share link captured for distribution.
- `../../scripts/create-snack.cjs` – Optional helper that re-uploads the Snack when you have network access.

## Features by tab
1. **Map** – Uses `react-native-maps` + `expo-location` for GPS centering, long-press waypoint capture, JSON export, and wipe controls.
2. **Reports** – Switchable 9-Line / SALUTE forms with offline caching, multi-entry history, and share-sheet JSON output.
3. **BLE** – `react-native-ble-plx` scanner with Android permission handling, live RSSI view, history cache, and JSON sharing.
4. **Camera** – `expo-camera` capture with note field, thumbnail ledger, and shareable JSON records.

## Phone-only workflow
1. Tap **Share project** above on your phone and open the Snack in your browser.
2. Press **Run** → **Open in Expo Go** (or scan the Snack QR code) on the same device.
3. Grant prompts in order: Location (map + BLE), Bluetooth (BLE), and Camera (photo tab).
4. Navigate the bottom tabs:
   - Map: long-press to drop waypoints, hit **Share JSON** when ready.
   - Reports: populate 9-Line or SALUTE, save locally, then **Share Latest** for a JSON text payload.
   - BLE: Start/Stop scanning; history persists across sessions. Export via **Share**.
   - Camera: capture, jot a note, store locally, and optionally share the JSON metadata.

## Permissions requested
- Foreground location (`expo-location`) for GPS and BLE scanning on Android.
- Bluetooth scan/connect (Android 12+) via `PermissionsAndroid` for `react-native-ble-plx`.
- Camera access through `expo-camera` for photo notes.

All prompts are sequential and tied to the tab that needs them.

## Local data model
AsyncStorage keys:
- `sord_quicknote_waypoints_v1`
- `sord_quicknote_forms_v1`
- `sord_quicknote_photo_notes_v1`
- `sord_quicknote_ble_history_v1`

Each screen reads on mount and writes after every change so cached intel survives app restarts.

## Maintaining or regenerating the Snack
If the hosted Snack ever expires, run:
```sh
npm install snack-sdk --no-save
node scripts/create-snack.cjs
```
The script loads `snack/sord-quicknote/App.js`, pushes it to Expo, and prints a fresh share URL. (Remove `node_modules` afterwards to keep the repo lean.)

## Dependency matrix
- `@react-native-async-storage/async-storage`
- `@react-navigation/native`
- `@react-navigation/bottom-tabs`
- `expo`
- `expo-camera`
- `expo-location`
- `react-native-ble-plx`
- `react-native-maps`
- `react-native-safe-area-context`
- `react-native-screens`

Everything above runs inside Expo Go on Snack—no prebuild required.

[snack-link]: https://snack.expo.dev/embedded?name=SORD%20QuickNote&platform=android&dependencies=%40react-native-async-storage/async-storage%2Cexpo-location%2Creact-native-maps%2Cexpo-camera%2Creact-native-ble-plx%2C%40react-navigation/native%2C%40react-navigation/bottom-tabs%2Creact-native-safe-area-context%2Creact-native-screens&code=import%20React%2C%20%7B%20useEffect%2C%20useMemo%2C%20useRef%2C%20useState%20%7D%20from%20%27react%27%3B%0Aimport%20%7B%0A%20%20ActivityIndicator%2C%0A%20%20Alert%2C%0A%20%20Button%2C%0A%20%20FlatList%2C%0A%20%20Image%2C%0A%20%20Platform%2C%0A%20%20SafeAreaView%2C%0A%20%20ScrollView%2C%0A%20%20Share%2C%0A%20%20StyleSheet%2C%0A%20%20Text%2C%0A%20%20TextInput%2C%0A%20%20TouchableOpacity%2C%0A%20%20View%2C%0A%7D%20from%20%27react-native%27%3B%0Aimport%20AsyncStorage%20from%20%27%40react-native-async-storage/async-storage%27%3B%0Aimport%20MapView%2C%20%7B%20Marker%20%7D%20from%20%27react-native-maps%27%3B%0Aimport%20%2A%20as%20Location%20from%20%27expo-location%27%3B%0Aimport%20%7B%20BleManager%20%7D%20from%20%27react-native-ble-plx%27%3B%0Aimport%20%7B%20Camera%20%7D%20from%20%27expo-camera%27%3B%0Aimport%20%7B%20NavigationContainer%2C%20DefaultTheme%20%7D%20from%20%27%40react-navigation/native%27%3B%0Aimport%20%7B%20createBottomTabNavigator%20%7D%20from%20%27%40react-navigation/bottom-tabs%27%3B%0Aimport%20%7B%20Ionicons%20%7D%20from%20%27%40expo/vector-icons%27%3B%0Aimport%20%7B%20PermissionsAndroid%20%7D%20from%20%27react-native%27%3B%0A%0Aconst%20WAYPOINTS_KEY%20%3D%20%27sord_quicknote_waypoints_v1%27%3B%0Aconst%20FORMS_KEY%20%3D%20%27sord_quicknote_forms_v1%27%3B%0Aconst%20PHOTO_NOTES_KEY%20%3D%20%27sord_quicknote_photo_notes_v1%27%3B%0Aconst%20BLE_HISTORY_KEY%20%3D%20%27sord_quicknote_ble_history_v1%27%3B%0A%0Aconst%20Tab%20%3D%20createBottomTabNavigator%28%29%3B%0A%0Aconst%20appTheme%20%3D%20%7B%0A%20%20...DefaultTheme%2C%0A%20%20colors%3A%20%7B%0A%20%20%20%20...DefaultTheme.colors%2C%0A%20%20%20%20background%3A%20%27%230f1115%27%2C%0A%20%20%20%20card%3A%20%27%23161920%27%2C%0A%20%20%20%20primary%3A%20%27%234cd964%27%2C%0A%20%20%20%20text%3A%20%27%23f4f6f9%27%2C%0A%20%20%20%20border%3A%20%27%23232631%27%2C%0A%20%20%7D%2C%0A%7D%3B%0A%0Aconst%20templateFields%20%3D%20%7B%0A%20%20nineLine%3A%20%5B%0A%20%20%20%20%7B%20key%3A%20%27line1%27%2C%20label%3A%20%27Line%201%20-%20Location%27%2C%20placeholder%3A%20%27Grid%20/%20LatLong%27%20%7D%2C%0A%20%20%20%20%7B%20key%3A%20%27line2%27%2C%20label%3A%20%27Line%202%20-%20Radio%20Frequency%27%2C%20placeholder%3A%20%27Freq%20%26%20Call%20Sign%27%20%7D%2C%0A%20%20%20%20%7B%20key%3A%20%27line3%27%2C%20label%3A%20%27Line%203%20-%20Number%20of%20Patients%20by%20Precedence%27%2C%20placeholder%3A%20%27Urgent%2C%20Priority%E2%80%A6%27%20%7D%2C%0A%20%20%20%20%7B%20key%3A%20%27line4%27%2C%20label%3A%20%27Line%204%20-%20Special%20Equipment%27%2C%20placeholder%3A%20%27Hoist%2C%20Ventilator%E2%80%A6%27%20%7D%2C%0A%20%20%20%20%7B%20key%3A%20%27line5%27%2C%20label%3A%20%27Line%205%20-%20Number%20of%20Patients%20by%20Type%27%2C%20placeholder%3A%20%27Litter%2C%20Ambulatory%E2%80%A6%27%20%7D%2C%0A%20%20%20%20%7B%20key%3A%20%27line6%27%2C%20label%3A%20%27Line%206%20-%20Security%20of%20Pickup%20Site%27%2C%20placeholder%3A%20%27No%20enemy%20/%20Possible%20/%20In%20contact%27%20%7D%2C%0A%20%20%20%20%7B%20key%3A%20%27line7%27%2C%20label%3A%20%27Line%207%20-%20Method%20of%20Marking%27%2C%20placeholder%3A%20%27Panels%2C%20Smoke%E2%80%A6%27%20%7D%2C%0A%20%20%20%20%7B%20key%3A%20%27line8%27%2C%20label%3A%20%27Line%208%20-%20Patient%20Nationality%27%2C%20placeholder%3A%20%27US%2C%20Non-US%2C%20EPW%E2%80%A6%27%20%7D%2C%0A%20%20%20%20%7B%20key%3A%20%27line9%27%2C%20label%3A%20%27Line%209%20-%20NBC%20Contamination%27%2C%20placeholder%3A%20%27None%20/%20Nuclear%20/%20Biological%20/%20Chemical%27%20%7D%2C%0A%20%20%5D%2C%0A%20%20salute%3A%20%5B%0A%20%20%20%20%7B%20key%3A%20%27size%27%2C%20label%3A%20%27Size%27%2C%20placeholder%3A%20%27Enemy%20strength%27%20%7D%2C%0A%20%20%20%20%7B%20key%3A%20%27activity%27%2C%20label%3A%20%27Activity%27%2C%20placeholder%3A%20%27What%20are%20they%20doing%3F%27%20%7D%2C%0A%20%20%20%20%7B%20key%3A%20%27location%27%2C%20label%3A%20%27Location%27%2C%20placeholder%3A%20%27Precise%20location%20info%27%20%7D%2C%0A%20%20%20%20%7B%20key%3A%20%27unit%27%2C%20label%3A%20%27Unit%20/%20Uniform%27%2C%20placeholder%3A%20%27Marks%2C%20unit%20ID%27%20%7D%2C%0A%20%20%20%20%7B%20key%3A%20%27time%27%2C%20label%3A%20%27Time%27%2C%20placeholder%3A%20%27When%20observed%27%20%7D%2C%0A%20%20%20%20%7B%20key%3A%20%27equipment%27%2C%20label%3A%20%27Equipment%27%2C%20placeholder%3A%20%27Weapons%2C%20transport%E2%80%A6%27%20%7D%2C%0A%20%20%5D%2C%0A%7D%3B%0A%0Aconst%20defaultRegion%20%3D%20%7B%0A%20%20latitude%3A%2037.7749%2C%0A%20%20longitude%3A%20-122.4194%2C%0A%20%20latitudeDelta%3A%200.08%2C%0A%20%20longitudeDelta%3A%200.08%2C%0A%7D%3B%0A%0Aasync%20function%20readJson%28key%2C%20fallback%29%20%7B%0A%20%20try%20%7B%0A%20%20%20%20const%20raw%20%3D%20await%20AsyncStorage.getItem%28key%29%3B%0A%20%20%20%20if%20%28%21raw%29%20%7B%0A%20%20%20%20%20%20return%20fallback%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20JSON.parse%28raw%29%3B%0A%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20console.warn%28%27readJson%20error%27%2C%20key%2C%20error%29%3B%0A%20%20%20%20return%20fallback%3B%0A%20%20%7D%0A%7D%0A%0Aasync%20function%20writeJson%28key%2C%20value%29%20%7B%0A%20%20try%20%7B%0A%20%20%20%20await%20AsyncStorage.setItem%28key%2C%20JSON.stringify%28value%29%29%3B%0A%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20console.warn%28%27writeJson%20error%27%2C%20key%2C%20error%29%3B%0A%20%20%7D%0A%7D%0A%0Afunction%20TabIcon%28%7B%20color%2C%20name%20%7D%29%20%7B%0A%20%20return%20%3CIonicons%20name%3D%7Bname%7D%20size%3D%7B22%7D%20color%3D%7Bcolor%7D%20/%3E%3B%0A%7D%0A%0Afunction%20SectionHeader%28%7B%20title%2C%20actionLabel%2C%20onAction%20%7D%29%20%7B%0A%20%20return%20%28%0A%20%20%20%20%3CView%20style%3D%7Bstyles.sectionHeader%7D%3E%0A%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.sectionTitle%7D%3E%7Btitle%7D%3C/Text%3E%0A%20%20%20%20%20%20%7BactionLabel%20%26%26%20onAction%20%3F%20%28%0A%20%20%20%20%20%20%20%20%3CTouchableOpacity%20onPress%3D%7BonAction%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.sectionAction%7D%3E%7BactionLabel%7D%3C/Text%3E%0A%20%20%20%20%20%20%20%20%3C/TouchableOpacity%3E%0A%20%20%20%20%20%20%29%20%3A%20null%7D%0A%20%20%20%20%3C/View%3E%0A%20%20%29%3B%0A%7D%0A%0Afunction%20Divider%28%29%20%7B%0A%20%20return%20%3CView%20style%3D%7Bstyles.divider%7D%20/%3E%3B%0A%7D%0A%0Afunction%20MapScreen%28%29%20%7B%0A%20%20const%20%5BhasPermission%2C%20setHasPermission%5D%20%3D%20useState%28null%29%3B%0A%20%20const%20%5BcurrentLocation%2C%20setCurrentLocation%5D%20%3D%20useState%28null%29%3B%0A%20%20const%20%5Bwaypoints%2C%20setWaypoints%5D%20%3D%20useState%28%5B%5D%29%3B%0A%20%20const%20%5BloadingLocation%2C%20setLoadingLocation%5D%20%3D%20useState%28true%29%3B%0A%20%20const%20%5BstatusMessage%2C%20setStatusMessage%5D%20%3D%20useState%28%27Requesting%20GPS...%27%29%3B%0A%20%20const%20mapRef%20%3D%20useRef%28null%29%3B%0A%0A%20%20useEffect%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20let%20mounted%20%3D%20true%3B%0A%20%20%20%20%28async%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20stored%20%3D%20await%20readJson%28WAYPOINTS_KEY%2C%20%5B%5D%29%3B%0A%20%20%20%20%20%20if%20%28mounted%29%20%7B%0A%20%20%20%20%20%20%20%20setWaypoints%28stored%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20%7B%20status%20%7D%20%3D%20await%20Location.requestForegroundPermissionsAsync%28%29%3B%0A%20%20%20%20%20%20if%20%28%21mounted%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28status%20%21%3D%3D%20%27granted%27%29%20%7B%0A%20%20%20%20%20%20%20%20setHasPermission%28false%29%3B%0A%20%20%20%20%20%20%20%20setStatusMessage%28%27Location%20permission%20denied.%20Enable%20it%20in%20settings%20to%20view%20the%20map.%27%29%3B%0A%20%20%20%20%20%20%20%20setLoadingLocation%28false%29%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20setHasPermission%28true%29%3B%0A%20%20%20%20%20%20const%20location%20%3D%20await%20Location.getCurrentPositionAsync%28%7B%20accuracy%3A%20Location.Accuracy.High%20%7D%29%3B%0A%20%20%20%20%20%20if%20%28mounted%29%20%7B%0A%20%20%20%20%20%20%20%20setCurrentLocation%28location.coords%29%3B%0A%20%20%20%20%20%20%20%20setLoadingLocation%28false%29%3B%0A%20%20%20%20%20%20%20%20setStatusMessage%28%27Long%20press%20on%20the%20map%20to%20drop%20a%20waypoint.%27%29%3B%0A%20%20%20%20%20%20%20%20if%20%28mapRef.current%20%26%26%20location%3F.coords%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20mapRef.current.animateToRegion%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20latitude%3A%20location.coords.latitude%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20longitude%3A%20location.coords.longitude%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20latitudeDelta%3A%200.02%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20longitudeDelta%3A%200.02%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%28%29%3B%0A%20%20%20%20return%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20mounted%20%3D%20false%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%2C%20%5B%5D%29%3B%0A%0A%20%20const%20handleAddWaypoint%20%3D%20coordinate%20%3D%3E%20%7B%0A%20%20%20%20const%20timestamp%20%3D%20new%20Date%28%29.toISOString%28%29%3B%0A%20%20%20%20const%20waypoint%20%3D%20%7B%0A%20%20%20%20%20%20id%3A%20%60%24%7BDate.now%28%29%7D%60%2C%0A%20%20%20%20%20%20name%3A%20%60WP-%24%7Bwaypoints.length%20%2B%201%7D%60%2C%0A%20%20%20%20%20%20latitude%3A%20coordinate.latitude%2C%0A%20%20%20%20%20%20longitude%3A%20coordinate.longitude%2C%0A%20%20%20%20%20%20timestamp%2C%0A%20%20%20%20%7D%3B%0A%20%20%20%20const%20updated%20%3D%20%5B...waypoints%2C%20waypoint%5D%3B%0A%20%20%20%20setWaypoints%28updated%29%3B%0A%20%20%20%20writeJson%28WAYPOINTS_KEY%2C%20updated%29%3B%0A%20%20%20%20setStatusMessage%28%60Stored%20%24%7Bwaypoint.name%7D%60%29%3B%0A%20%20%7D%3B%0A%0A%20%20const%20exportWaypoints%20%3D%20async%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28%21waypoints.length%29%20%7B%0A%20%20%20%20%20%20Alert.alert%28%27No%20waypoints%20saved%20yet%27%29%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20const%20payload%20%3D%20JSON.stringify%28%7B%20waypoints%20%7D%2C%20null%2C%202%29%3B%0A%20%20%20%20%20%20await%20Share.share%28%7B%0A%20%20%20%20%20%20%20%20title%3A%20%27SORD%20QuickNote%20Waypoints%27%2C%0A%20%20%20%20%20%20%20%20message%3A%20payload%2C%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20Alert.alert%28%27Share%20failed%27%2C%20error.message%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20const%20clearWaypoints%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20Alert.alert%28%27Clear%20all%20waypoints%3F%27%2C%20%27This%20will%20remove%20every%20stored%20waypoint.%27%2C%20%5B%0A%20%20%20%20%20%20%7B%20text%3A%20%27Cancel%27%2C%20style%3A%20%27cancel%27%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20text%3A%20%27Clear%27%2C%0A%20%20%20%20%20%20%20%20style%3A%20%27destructive%27%2C%0A%20%20%20%20%20%20%20%20onPress%3A%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20setWaypoints%28%5B%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20writeJson%28WAYPOINTS_KEY%2C%20%5B%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20setStatusMessage%28%27Waypoints%20cleared%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D%29%3B%0A%20%20%7D%3B%0A%0A%20%20const%20centerOnUser%20%3D%20async%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28%21hasPermission%29%20%7B%0A%20%20%20%20%20%20Alert.alert%28%27Location%20unavailable%27%2C%20%27Grant%20GPS%20permissions%20in%20system%20settings.%27%29%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20const%20location%20%3D%20await%20Location.getCurrentPositionAsync%28%7B%20accuracy%3A%20Location.Accuracy.BestForNavigation%20%7D%29%3B%0A%20%20%20%20%20%20setCurrentLocation%28location.coords%29%3B%0A%20%20%20%20%20%20if%20%28mapRef.current%29%20%7B%0A%20%20%20%20%20%20%20%20mapRef.current.animateToRegion%28%7B%0A%20%20%20%20%20%20%20%20%20%20latitude%3A%20location.coords.latitude%2C%0A%20%20%20%20%20%20%20%20%20%20longitude%3A%20location.coords.longitude%2C%0A%20%20%20%20%20%20%20%20%20%20latitudeDelta%3A%200.015%2C%0A%20%20%20%20%20%20%20%20%20%20longitudeDelta%3A%200.015%2C%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20Alert.alert%28%27Location%20error%27%2C%20error.message%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20return%20%28%0A%20%20%20%20%3CSafeAreaView%20style%3D%7Bstyles.screen%7D%3E%0A%20%20%20%20%20%20%3CView%20style%3D%7Bstyles.mapContainer%7D%3E%0A%20%20%20%20%20%20%20%20%3CMapView%0A%20%20%20%20%20%20%20%20%20%20ref%3D%7BmapRef%7D%0A%20%20%20%20%20%20%20%20%20%20style%3D%7BStyleSheet.absoluteFill%7D%0A%20%20%20%20%20%20%20%20%20%20initialRegion%3D%7BcurrentLocation%20%3F%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20latitude%3A%20currentLocation.latitude%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20longitude%3A%20currentLocation.longitude%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20latitudeDelta%3A%200.02%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20longitudeDelta%3A%200.02%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%20%3A%20defaultRegion%7D%0A%20%20%20%20%20%20%20%20%20%20onLongPress%3D%7Bevent%20%3D%3E%20handleAddWaypoint%28event.nativeEvent.coordinate%29%7D%0A%20%20%20%20%20%20%20%20%20%20showsUserLocation%0A%20%20%20%20%20%20%20%20%20%20showsMyLocationButton%3D%7Bfalse%7D%0A%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%7Bwaypoints.map%28point%20%3D%3E%20%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CMarker%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20key%3D%7Bpoint.id%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20coordinate%3D%7B%7B%20latitude%3A%20point.latitude%2C%20longitude%3A%20point.longitude%20%7D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20title%3D%7Bpoint.name%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20description%3D%7Bnew%20Date%28point.timestamp%29.toLocaleString%28%29%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%29%29%7D%0A%20%20%20%20%20%20%20%20%3C/MapView%3E%0A%20%20%20%20%20%20%20%20%3CView%20style%3D%7Bstyles.mapOverlay%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.mapStatus%7D%3E%7BstatusMessage%7D%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%3CView%20style%3D%7Bstyles.mapButtons%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CTouchableOpacity%20style%3D%7Bstyles.primaryButton%7D%20onPress%3D%7BcenterOnUser%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CIonicons%20name%3D%22locate%22%20size%3D%7B18%7D%20color%3D%22%230f1115%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.primaryButtonText%7D%3EMy%20Position%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/TouchableOpacity%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CTouchableOpacity%20style%3D%7Bstyles.secondaryButton%7D%20onPress%3D%7BexportWaypoints%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.secondaryButtonText%7D%3EShare%20JSON%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/TouchableOpacity%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CTouchableOpacity%20style%3D%7Bstyles.dangerButton%7D%20onPress%3D%7BclearWaypoints%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.dangerButtonText%7D%3EClear%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/TouchableOpacity%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/View%3E%0A%20%20%20%20%20%20%20%20%3C/View%3E%0A%20%20%20%20%20%20%20%20%7BloadingLocation%20%26%26%20%28%0A%20%20%20%20%20%20%20%20%20%20%3CView%20style%3D%7Bstyles.mapLoader%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CActivityIndicator%20size%3D%22small%22%20color%3D%22%234cd964%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.mapLoaderText%7D%3EAcquiring%20GPS...%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/View%3E%0A%20%20%20%20%20%20%20%20%29%7D%0A%20%20%20%20%20%20%3C/View%3E%0A%20%20%20%20%20%20%3CScrollView%20style%3D%7Bstyles.bottomSheet%7D%3E%0A%20%20%20%20%20%20%20%20%3CSectionHeader%0A%20%20%20%20%20%20%20%20%20%20title%3D%7B%60Stored%20Waypoints%20%28%24%7Bwaypoints.length%7D%29%60%7D%0A%20%20%20%20%20%20%20%20%20%20actionLabel%3D%22Share%22%0A%20%20%20%20%20%20%20%20%20%20onAction%3D%7BexportWaypoints%7D%0A%20%20%20%20%20%20%20%20/%3E%0A%20%20%20%20%20%20%20%20%7Bwaypoints.length%20%3D%3D%3D%200%20%3F%20%28%0A%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.emptyText%7D%3EDrop%20waypoints%20with%20a%20long%20press%20anywhere%20on%20the%20map.%3C/Text%3E%0A%20%20%20%20%20%20%20%20%29%20%3A%20%28%0A%20%20%20%20%20%20%20%20%20%20waypoints%0A%20%20%20%20%20%20%20%20%20%20%20%20.slice%28%29%0A%20%20%20%20%20%20%20%20%20%20%20%20.reverse%28%29%0A%20%20%20%20%20%20%20%20%20%20%20%20.map%28point%20%3D%3E%20%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CView%20key%3D%7Bpoint.id%7D%20style%3D%7Bstyles.listCard%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.cardTitle%7D%3E%7Bpoint.name%7D%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.cardSubtitle%7D%3E%7Bnew%20Date%28point.timestamp%29.toLocaleString%28%29%7D%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.cardMeta%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Lat%20%7Bpoint.latitude.toFixed%285%29%7D%20%C2%B7%20Lon%20%7Bpoint.longitude.toFixed%285%29%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/View%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%29%0A%20%20%20%20%20%20%20%20%29%7D%0A%20%20%20%20%20%20%3C/ScrollView%3E%0A%20%20%20%20%3C/SafeAreaView%3E%0A%20%20%29%3B%0A%7D%0A%0Afunction%20FormsScreen%28%29%20%7B%0A%20%20const%20%5BactiveForm%2C%20setActiveForm%5D%20%3D%20useState%28%27nineLine%27%29%3B%0A%20%20const%20%5BformState%2C%20setFormState%5D%20%3D%20useState%28%7B%7D%29%3B%0A%20%20const%20%5Bentries%2C%20setEntries%5D%20%3D%20useState%28%5B%5D%29%3B%0A%20%20const%20%5Bsaving%2C%20setSaving%5D%20%3D%20useState%28false%29%3B%0A%0A%20%20useEffect%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%28async%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20stored%20%3D%20await%20readJson%28FORMS_KEY%2C%20%5B%5D%29%3B%0A%20%20%20%20%20%20setEntries%28stored%29%3B%0A%20%20%20%20%7D%29%28%29%3B%0A%20%20%7D%2C%20%5B%5D%29%3B%0A%0A%20%20useEffect%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20const%20initial%20%3D%20%7B%7D%3B%0A%20%20%20%20templateFields%5BactiveForm%5D.forEach%28field%20%3D%3E%20%7B%0A%20%20%20%20%20%20initial%5Bfield.key%5D%20%3D%20%27%27%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20setFormState%28initial%29%3B%0A%20%20%7D%2C%20%5BactiveForm%5D%29%3B%0A%0A%20%20const%20handleChange%20%3D%20%28key%2C%20value%29%20%3D%3E%20%7B%0A%20%20%20%20setFormState%28prev%20%3D%3E%20%28%7B%20...prev%2C%20%5Bkey%5D%3A%20value%20%7D%29%29%3B%0A%20%20%7D%3B%0A%0A%20%20const%20handleSave%20%3D%20async%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20setSaving%28true%29%3B%0A%20%20%20%20const%20timestamp%20%3D%20new%20Date%28%29.toISOString%28%29%3B%0A%20%20%20%20const%20entry%20%3D%20%7B%0A%20%20%20%20%20%20id%3A%20%60%24%7BDate.now%28%29%7D%60%2C%0A%20%20%20%20%20%20type%3A%20activeForm%2C%0A%20%20%20%20%20%20timestamp%2C%0A%20%20%20%20%20%20payload%3A%20formState%2C%0A%20%20%20%20%7D%3B%0A%20%20%20%20const%20updated%20%3D%20%5Bentry%2C%20...entries%5D%3B%0A%20%20%20%20setEntries%28updated%29%3B%0A%20%20%20%20await%20writeJson%28FORMS_KEY%2C%20updated%29%3B%0A%20%20%20%20setSaving%28false%29%3B%0A%20%20%20%20Alert.alert%28%27Saved%27%2C%20%60%24%7BactiveForm%20%3D%3D%3D%20%27nineLine%27%20%3F%20%279-Line%27%20%3A%20%27SALUTE%27%7D%20entry%20cached.%60%29%3B%0A%20%20%7D%3B%0A%0A%20%20const%20shareLatest%20%3D%20async%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28%21entries.length%29%20%7B%0A%20%20%20%20%20%20Alert.alert%28%27No%20entries%20yet%27%29%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20const%20payload%20%3D%20JSON.stringify%28entries%5B0%5D%2C%20null%2C%202%29%3B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20await%20Share.share%28%7B%20title%3A%20%27SORD%20QuickNote%20Form%27%2C%20message%3A%20payload%20%7D%29%3B%0A%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20Alert.alert%28%27Share%20failed%27%2C%20error.message%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20const%20clearEntries%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20Alert.alert%28%27Clear%20all%20saved%20forms%3F%27%2C%20%27This%20removes%20every%20cached%20form%20entry.%27%2C%20%5B%0A%20%20%20%20%20%20%7B%20text%3A%20%27Cancel%27%2C%20style%3A%20%27cancel%27%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20text%3A%20%27Clear%27%2C%0A%20%20%20%20%20%20%20%20style%3A%20%27destructive%27%2C%0A%20%20%20%20%20%20%20%20onPress%3A%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20setEntries%28%5B%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20writeJson%28FORMS_KEY%2C%20%5B%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D%29%3B%0A%20%20%7D%3B%0A%0A%20%20const%20formTitle%20%3D%20activeForm%20%3D%3D%3D%20%27nineLine%27%20%3F%20%279-Line%20MEDEVAC%27%20%3A%20%27SALUTE%20Report%27%3B%0A%0A%20%20return%20%28%0A%20%20%20%20%3CSafeAreaView%20style%3D%7Bstyles.screen%7D%3E%0A%20%20%20%20%20%20%3CScrollView%20contentContainerStyle%3D%7Bstyles.formsContainer%7D%3E%0A%20%20%20%20%20%20%20%20%3CSectionHeader%20title%3D%22Report%20Type%22%20/%3E%0A%20%20%20%20%20%20%20%20%3CView%20style%3D%7Bstyles.segmentedControl%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%3CTouchableOpacity%0A%20%20%20%20%20%20%20%20%20%20%20%20style%3D%7B%5Bstyles.segmentButton%2C%20activeForm%20%3D%3D%3D%20%27nineLine%27%20%26%26%20styles.segmentButtonActive%5D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20onPress%3D%7B%28%29%20%3D%3E%20setActiveForm%28%27nineLine%27%29%7D%0A%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7B%5Bstyles.segmentButtonText%2C%20activeForm%20%3D%3D%3D%20%27nineLine%27%20%26%26%20styles.segmentButtonTextActive%5D%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%209-Line%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/TouchableOpacity%3E%0A%20%20%20%20%20%20%20%20%20%20%3CTouchableOpacity%0A%20%20%20%20%20%20%20%20%20%20%20%20style%3D%7B%5Bstyles.segmentButton%2C%20activeForm%20%3D%3D%3D%20%27salute%27%20%26%26%20styles.segmentButtonActive%5D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20onPress%3D%7B%28%29%20%3D%3E%20setActiveForm%28%27salute%27%29%7D%0A%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7B%5Bstyles.segmentButtonText%2C%20activeForm%20%3D%3D%3D%20%27salute%27%20%26%26%20styles.segmentButtonTextActive%5D%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SALUTE%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/TouchableOpacity%3E%0A%20%20%20%20%20%20%20%20%3C/View%3E%0A%20%20%20%20%20%20%20%20%3CDivider%20/%3E%0A%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.sectionSubtitle%7D%3E%7BformTitle%7D%3C/Text%3E%0A%20%20%20%20%20%20%20%20%7BtemplateFields%5BactiveForm%5D.map%28field%20%3D%3E%20%28%0A%20%20%20%20%20%20%20%20%20%20%3CView%20key%3D%7Bfield.key%7D%20style%3D%7Bstyles.inputBlock%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.inputLabel%7D%3E%7Bfield.label%7D%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CTextInput%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20style%3D%7Bstyles.textInput%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20placeholder%3D%7Bfield.placeholder%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20placeholderTextColor%3D%22%237b7e88%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3D%7BformState%5Bfield.key%5D%20%7C%7C%20%27%27%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20onChangeText%3D%7Btext%20%3D%3E%20handleChange%28field.key%2C%20text%29%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20multiline%0A%20%20%20%20%20%20%20%20%20%20%20%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/View%3E%0A%20%20%20%20%20%20%20%20%29%29%7D%0A%20%20%20%20%20%20%20%20%3CTouchableOpacity%20style%3D%7Bstyles.primaryButton%7D%20onPress%3D%7BhandleSave%7D%20disabled%3D%7Bsaving%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%3CIonicons%20name%3D%22save%22%20size%3D%7B18%7D%20color%3D%22%230f1115%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.primaryButtonText%7D%3E%7Bsaving%20%3F%20%27Saving...%27%20%3A%20%27Save%20Locally%27%7D%3C/Text%3E%0A%20%20%20%20%20%20%20%20%3C/TouchableOpacity%3E%0A%20%20%20%20%20%20%20%20%3CView%20style%3D%7Bstyles.formActionRow%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%3CTouchableOpacity%20style%3D%7Bstyles.secondaryButton%7D%20onPress%3D%7BshareLatest%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.secondaryButtonText%7D%3EShare%20Latest%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/TouchableOpacity%3E%0A%20%20%20%20%20%20%20%20%20%20%3CTouchableOpacity%20style%3D%7Bstyles.dangerButton%7D%20onPress%3D%7BclearEntries%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.dangerButtonText%7D%3EClear%20All%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/TouchableOpacity%3E%0A%20%20%20%20%20%20%20%20%3C/View%3E%0A%20%20%20%20%20%20%20%20%3CDivider%20/%3E%0A%20%20%20%20%20%20%20%20%3CSectionHeader%20title%3D%7B%60Saved%20Entries%20%28%24%7Bentries.length%7D%29%60%7D%20/%3E%0A%20%20%20%20%20%20%20%20%7Bentries.length%20%3D%3D%3D%200%20%3F%20%28%0A%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.emptyText%7D%3ESaved%20reports%20will%20live%20here%20for%20offline%20reference.%3C/Text%3E%0A%20%20%20%20%20%20%20%20%29%20%3A%20%28%0A%20%20%20%20%20%20%20%20%20%20entries.map%28entry%20%3D%3E%20%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CView%20key%3D%7Bentry.id%7D%20style%3D%7Bstyles.listCard%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.cardTitle%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bentry.type%20%3D%3D%3D%20%27nineLine%27%20%3F%20%279-Line%27%20%3A%20%27SALUTE%27%7D%20%C2%B7%20%7Bnew%20Date%28entry.timestamp%29.toLocaleString%28%29%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.cardMeta%7D%3E%7BObject.values%28entry.payload%29.filter%28Boolean%29.join%28%27%20%7C%20%27%29%20%7C%7C%20%27No%20fields%20filled%20yet.%27%7D%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CTouchableOpacity%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20style%3D%7Bstyles.secondaryButton%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onPress%3D%7B%28%29%20%3D%3E%20Share.share%28%7B%20title%3A%20%27SORD%20QuickNote%20Form%27%2C%20message%3A%20JSON.stringify%28entry%2C%20null%2C%202%29%20%7D%29%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.secondaryButtonText%7D%3EShare%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/TouchableOpacity%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/View%3E%0A%20%20%20%20%20%20%20%20%20%20%29%29%0A%20%20%20%20%20%20%20%20%29%7D%0A%20%20%20%20%20%20%3C/ScrollView%3E%0A%20%20%20%20%3C/SafeAreaView%3E%0A%20%20%29%3B%0A%7D%0A%0Afunction%20BleScreen%28%29%20%7B%0A%20%20const%20%5Bdevices%2C%20setDevices%5D%20%3D%20useState%28%7B%7D%29%3B%0A%20%20const%20%5Bhistory%2C%20setHistory%5D%20%3D%20useState%28%5B%5D%29%3B%0A%20%20const%20%5BisScanning%2C%20setIsScanning%5D%20%3D%20useState%28false%29%3B%0A%20%20const%20%5Bstatus%2C%20setStatus%5D%20%3D%20useState%28%27Scanner%20idle%27%29%3B%0A%20%20const%20managerRef%20%3D%20useRef%28null%29%3B%0A%0A%20%20useEffect%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20managerRef.current%20%3D%20new%20BleManager%28%29%3B%0A%20%20%20%20%28async%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20stored%20%3D%20await%20readJson%28BLE_HISTORY_KEY%2C%20%5B%5D%29%3B%0A%20%20%20%20%20%20setHistory%28stored%29%3B%0A%20%20%20%20%7D%29%28%29%3B%0A%20%20%20%20return%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20managerRef.current%3F.stopDeviceScan%28%29%3B%0A%20%20%20%20%20%20managerRef.current%3F.destroy%28%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%2C%20%5B%5D%29%3B%0A%0A%20%20const%20syncHistory%20%3D%20updated%20%3D%3E%20%7B%0A%20%20%20%20setHistory%28updated%29%3B%0A%20%20%20%20writeJson%28BLE_HISTORY_KEY%2C%20updated%29%3B%0A%20%20%7D%3B%0A%0A%20%20const%20requestPermissions%20%3D%20async%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28Platform.OS%20%21%3D%3D%20%27android%27%29%20%7B%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20const%20result%20%3D%20await%20PermissionsAndroid.requestMultiple%28%5B%0A%20%20%20%20%20%20%20%20PermissionsAndroid.PERMISSIONS.ACCESS_FINE_LOCATION%2C%0A%20%20%20%20%20%20%20%20PermissionsAndroid.PERMISSIONS.BLUETOOTH_SCAN%2C%0A%20%20%20%20%20%20%20%20PermissionsAndroid.PERMISSIONS.BLUETOOTH_CONNECT%2C%0A%20%20%20%20%20%20%5D%29%3B%0A%20%20%20%20%20%20const%20granted%20%3D%20Object.values%28result%29.every%28value%20%3D%3E%20value%20%3D%3D%3D%20PermissionsAndroid.RESULTS.GRANTED%29%3B%0A%20%20%20%20%20%20if%20%28%21granted%29%20%7B%0A%20%20%20%20%20%20%20%20Alert.alert%28%27Permissions%20required%27%2C%20%27Grant%20Bluetooth%20and%20Location%20to%20scan.%27%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20granted%3B%0A%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20Alert.alert%28%27Permission%20error%27%2C%20error.message%29%3B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20const%20startScan%20%3D%20async%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28isScanning%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20const%20ok%20%3D%20await%20requestPermissions%28%29%3B%0A%20%20%20%20if%20%28%21ok%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20setStatus%28%27Scanning%20for%20BLE%20devices...%27%29%3B%0A%20%20%20%20setIsScanning%28true%29%3B%0A%20%20%20%20const%20manager%20%3D%20managerRef.current%3B%0A%20%20%20%20setDevices%28%7B%7D%29%3B%0A%20%20%20%20manager.startDeviceScan%28null%2C%20null%2C%20%28error%2C%20device%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20%28error%29%20%7B%0A%20%20%20%20%20%20%20%20setStatus%28error.message%29%3B%0A%20%20%20%20%20%20%20%20setIsScanning%28false%29%3B%0A%20%20%20%20%20%20%20%20manager.stopDeviceScan%28%29%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28device%29%20%7B%0A%20%20%20%20%20%20%20%20setDevices%28prev%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20next%20%3D%20%7B%20...prev%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20next%5Bdevice.id%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20device.id%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20device.name%20%7C%7C%20%27Unknown%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20rssi%3A%20device.rssi%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20updatedAt%3A%20new%20Date%28%29.toISOString%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20syncHistory%28%0A%20%20%20%20%20%20%20%20%20%20%20%20Object.values%28next%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20.sort%28%28a%2C%20b%29%20%3D%3E%20%28b.updatedAt%20%3E%20a.updatedAt%20%3F%201%20%3A%20-1%29%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20.slice%280%2C%20100%29%0A%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20return%20next%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%3B%0A%0A%20%20const%20stopScan%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28%21isScanning%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20managerRef.current%3F.stopDeviceScan%28%29%3B%0A%20%20%20%20setIsScanning%28false%29%3B%0A%20%20%20%20setStatus%28%27Scanner%20idle%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20const%20clearHistory%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20managerRef.current%3F.stopDeviceScan%28%29%3B%0A%20%20%20%20setIsScanning%28false%29%3B%0A%20%20%20%20setDevices%28%7B%7D%29%3B%0A%20%20%20%20syncHistory%28%5B%5D%29%3B%0A%20%20%20%20setStatus%28%27Scanner%20idle%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20const%20shareHistory%20%3D%20async%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28%21history.length%29%20%7B%0A%20%20%20%20%20%20Alert.alert%28%27No%20scan%20history%20yet%27%29%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20const%20payload%20%3D%20JSON.stringify%28%7B%20devices%3A%20history%20%7D%2C%20null%2C%202%29%3B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20await%20Share.share%28%7B%20title%3A%20%27SORD%20QuickNote%20BLE%20Devices%27%2C%20message%3A%20payload%20%7D%29%3B%0A%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20Alert.alert%28%27Share%20failed%27%2C%20error.message%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20const%20deviceList%20%3D%20useMemo%28%28%29%20%3D%3E%20Object.values%28devices%29.sort%28%28a%2C%20b%29%20%3D%3E%20%28b.rssi%20%3F%3F%20-200%29%20-%20%28a.rssi%20%3F%3F%20-200%29%29%2C%20%5Bdevices%5D%29%3B%0A%0A%20%20return%20%28%0A%20%20%20%20%3CSafeAreaView%20style%3D%7Bstyles.screen%7D%3E%0A%20%20%20%20%20%20%3CView%20style%3D%7Bstyles.formsContainer%7D%3E%0A%20%20%20%20%20%20%20%20%3CSectionHeader%20title%3D%22Bluetooth%20Scan%22%20actionLabel%3D%22Share%22%20onAction%3D%7BshareHistory%7D%20/%3E%0A%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.sectionSubtitle%7D%3E%7Bstatus%7D%3C/Text%3E%0A%20%20%20%20%20%20%20%20%3CView%20style%3D%7Bstyles.formActionRow%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%3CTouchableOpacity%20style%3D%7Bstyles.primaryButton%7D%20onPress%3D%7BstartScan%7D%20disabled%3D%7BisScanning%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CIonicons%20name%3D%22bluetooth%22%20size%3D%7B18%7D%20color%3D%22%230f1115%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.primaryButtonText%7D%3E%7BisScanning%20%3F%20%27Scanning...%27%20%3A%20%27Start%20Scan%27%7D%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/TouchableOpacity%3E%0A%20%20%20%20%20%20%20%20%20%20%3CTouchableOpacity%20style%3D%7Bstyles.secondaryButton%7D%20onPress%3D%7BstopScan%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.secondaryButtonText%7D%3EStop%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/TouchableOpacity%3E%0A%20%20%20%20%20%20%20%20%20%20%3CTouchableOpacity%20style%3D%7Bstyles.dangerButton%7D%20onPress%3D%7BclearHistory%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.dangerButtonText%7D%3EClear%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/TouchableOpacity%3E%0A%20%20%20%20%20%20%20%20%3C/View%3E%0A%20%20%20%20%20%20%20%20%3CDivider%20/%3E%0A%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.sectionSubtitle%7D%3ELive%20Devices%20%28%7BdeviceList.length%7D%29%3C/Text%3E%0A%20%20%20%20%20%20%20%20%7BdeviceList.length%20%3D%3D%3D%200%20%3F%20%28%0A%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.emptyText%7D%3EStart%20a%20scan%20to%20populate%20nearby%20BLE%20devices%20and%20RSSI%20values.%3C/Text%3E%0A%20%20%20%20%20%20%20%20%29%20%3A%20%28%0A%20%20%20%20%20%20%20%20%20%20deviceList.map%28device%20%3D%3E%20%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CView%20key%3D%7Bdevice.id%7D%20style%3D%7Bstyles.listCard%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.cardTitle%7D%3E%7Bdevice.name%7D%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.cardMeta%7D%3ERSSI%3A%20%7Bdevice.rssi%20%3F%3F%20%27N/A%27%7D%20dBm%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.cardSubtitle%7D%3E%7Bdevice.id%7D%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.cardMeta%7D%3ELast%20seen%20%7Bnew%20Date%28device.updatedAt%29.toLocaleTimeString%28%29%7D%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/View%3E%0A%20%20%20%20%20%20%20%20%20%20%29%29%0A%20%20%20%20%20%20%20%20%29%7D%0A%20%20%20%20%20%20%20%20%3CDivider%20/%3E%0A%20%20%20%20%20%20%20%20%3CSectionHeader%20title%3D%7B%60Cached%20History%20%28%24%7Bhistory.length%7D%29%60%7D%20/%3E%0A%20%20%20%20%20%20%20%20%7Bhistory.length%20%3D%3D%3D%200%20%3F%20%28%0A%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.emptyText%7D%3EHistory%20retains%20up%20to%20100%20recently%20observed%20devices.%3C/Text%3E%0A%20%20%20%20%20%20%20%20%29%20%3A%20%28%0A%20%20%20%20%20%20%20%20%20%20history.map%28item%20%3D%3E%20%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CView%20key%3D%7B%60%24%7Bitem.id%7D-%24%7Bitem.updatedAt%7D%60%7D%20style%3D%7Bstyles.listCard%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.cardTitle%7D%3E%7Bitem.name%7D%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.cardSubtitle%7D%3E%7Bitem.id%7D%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.cardMeta%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20RSSI%20%7Bitem.rssi%20%3F%3F%20%27N/A%27%7D%20dBm%20%C2%B7%20%7Bnew%20Date%28item.updatedAt%29.toLocaleString%28%29%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/View%3E%0A%20%20%20%20%20%20%20%20%20%20%29%29%0A%20%20%20%20%20%20%20%20%29%7D%0A%20%20%20%20%20%20%3C/View%3E%0A%20%20%20%20%3C/SafeAreaView%3E%0A%20%20%29%3B%0A%7D%0A%0Afunction%20CameraScreen%28%29%20%7B%0A%20%20const%20%5BhasPermission%2C%20setHasPermission%5D%20%3D%20useState%28null%29%3B%0A%20%20const%20%5Bnotes%2C%20setNotes%5D%20%3D%20useState%28%5B%5D%29%3B%0A%20%20const%20%5Bnote%2C%20setNote%5D%20%3D%20useState%28%27%27%29%3B%0A%20%20const%20cameraRef%20%3D%20useRef%28null%29%3B%0A%0A%20%20useEffect%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%28async%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20%7B%20status%20%7D%20%3D%20await%20Camera.requestCameraPermissionsAsync%28%29%3B%0A%20%20%20%20%20%20setHasPermission%28status%20%3D%3D%3D%20%27granted%27%29%3B%0A%20%20%20%20%20%20const%20stored%20%3D%20await%20readJson%28PHOTO_NOTES_KEY%2C%20%5B%5D%29%3B%0A%20%20%20%20%20%20setNotes%28stored%29%3B%0A%20%20%20%20%7D%29%28%29%3B%0A%20%20%7D%2C%20%5B%5D%29%3B%0A%0A%20%20const%20cacheNotes%20%3D%20updated%20%3D%3E%20%7B%0A%20%20%20%20setNotes%28updated%29%3B%0A%20%20%20%20writeJson%28PHOTO_NOTES_KEY%2C%20updated%29%3B%0A%20%20%7D%3B%0A%0A%20%20const%20capture%20%3D%20async%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28%21cameraRef.current%29%20%7B%0A%20%20%20%20%20%20Alert.alert%28%27Camera%20not%20ready%27%29%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20const%20photo%20%3D%20await%20cameraRef.current.takePictureAsync%28%7B%20quality%3A%200.7%20%7D%29%3B%0A%20%20%20%20%20%20const%20entry%20%3D%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20%60%24%7BDate.now%28%29%7D%60%2C%0A%20%20%20%20%20%20%20%20note%3A%20note.trim%28%29%2C%0A%20%20%20%20%20%20%20%20uri%3A%20photo.uri%2C%0A%20%20%20%20%20%20%20%20timestamp%3A%20new%20Date%28%29.toISOString%28%29%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20const%20updated%20%3D%20%5Bentry%2C%20...notes%5D%3B%0A%20%20%20%20%20%20cacheNotes%28updated%29%3B%0A%20%20%20%20%20%20setNote%28%27%27%29%3B%0A%20%20%20%20%20%20Alert.alert%28%27Saved%27%2C%20%27Photo%20note%20cached%20locally.%27%29%3B%0A%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20Alert.alert%28%27Capture%20failed%27%2C%20error.message%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20const%20shareEntry%20%3D%20async%20entry%20%3D%3E%20%7B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20await%20Share.share%28%7B%20title%3A%20%27SORD%20QuickNote%20Photo%20Note%27%2C%20message%3A%20JSON.stringify%28entry%2C%20null%2C%202%29%20%7D%29%3B%0A%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20Alert.alert%28%27Share%20failed%27%2C%20error.message%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20if%20%28hasPermission%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20return%20%28%0A%20%20%20%20%20%20%3CSafeAreaView%20style%3D%7Bstyles.screenCentered%7D%3E%0A%20%20%20%20%20%20%20%20%3CActivityIndicator%20color%3D%22%234cd964%22%20/%3E%0A%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.mapLoaderText%7D%3EChecking%20camera%20permission%E2%80%A6%3C/Text%3E%0A%20%20%20%20%20%20%3C/SafeAreaView%3E%0A%20%20%20%20%29%3B%0A%20%20%7D%0A%0A%20%20if%20%28hasPermission%20%3D%3D%3D%20false%29%20%7B%0A%20%20%20%20return%20%28%0A%20%20%20%20%20%20%3CSafeAreaView%20style%3D%7Bstyles.screenCentered%7D%3E%0A%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.emptyText%7D%3E%0A%20%20%20%20%20%20%20%20%20%20Camera%20permission%20denied.%20Enable%20it%20in%20system%20settings%20to%20create%20photo%20notes.%0A%20%20%20%20%20%20%20%20%3C/Text%3E%0A%20%20%20%20%20%20%3C/SafeAreaView%3E%0A%20%20%20%20%29%3B%0A%20%20%7D%0A%0A%20%20return%20%28%0A%20%20%20%20%3CSafeAreaView%20style%3D%7Bstyles.screen%7D%3E%0A%20%20%20%20%20%20%3CScrollView%20contentContainerStyle%3D%7Bstyles.formsContainer%7D%3E%0A%20%20%20%20%20%20%20%20%3CSectionHeader%20title%3D%22Capture%22%20/%3E%0A%20%20%20%20%20%20%20%20%3CView%20style%3D%7Bstyles.cameraWrapper%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%3CCamera%20ref%3D%7BcameraRef%7D%20style%3D%7Bstyles.camera%7D%20ratio%3D%2216%3A9%22%20/%3E%0A%20%20%20%20%20%20%20%20%3C/View%3E%0A%20%20%20%20%20%20%20%20%3CTextInput%0A%20%20%20%20%20%20%20%20%20%20style%3D%7Bstyles.textInput%7D%0A%20%20%20%20%20%20%20%20%20%20placeholder%3D%22Quick%20note%20%28optional%29%22%0A%20%20%20%20%20%20%20%20%20%20placeholderTextColor%3D%22%237b7e88%22%0A%20%20%20%20%20%20%20%20%20%20value%3D%7Bnote%7D%0A%20%20%20%20%20%20%20%20%20%20onChangeText%3D%7BsetNote%7D%0A%20%20%20%20%20%20%20%20/%3E%0A%20%20%20%20%20%20%20%20%3CTouchableOpacity%20style%3D%7Bstyles.primaryButton%7D%20onPress%3D%7Bcapture%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%3CIonicons%20name%3D%22camera%22%20size%3D%7B18%7D%20color%3D%22%230f1115%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.primaryButtonText%7D%3ECapture%3C/Text%3E%0A%20%20%20%20%20%20%20%20%3C/TouchableOpacity%3E%0A%20%20%20%20%20%20%20%20%3CDivider%20/%3E%0A%20%20%20%20%20%20%20%20%3CSectionHeader%20title%3D%7B%60Stored%20Notes%20%28%24%7Bnotes.length%7D%29%60%7D%20/%3E%0A%20%20%20%20%20%20%20%20%7Bnotes.length%20%3D%3D%3D%200%20%3F%20%28%0A%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.emptyText%7D%3ECapture%20an%20image%20to%20build%20your%20offline%20gallery.%3C/Text%3E%0A%20%20%20%20%20%20%20%20%29%20%3A%20%28%0A%20%20%20%20%20%20%20%20%20%20notes.map%28entry%20%3D%3E%20%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CView%20key%3D%7Bentry.id%7D%20style%3D%7Bstyles.listCard%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bentry.uri%20%3F%20%3CImage%20source%3D%7B%7B%20uri%3A%20entry.uri%20%7D%7D%20style%3D%7Bstyles.photoThumb%7D%20/%3E%20%3A%20null%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CView%20style%3D%7B%7B%20flex%3A%201%20%7D%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.cardTitle%7D%3E%7Bnew%20Date%28entry.timestamp%29.toLocaleString%28%29%7D%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.cardMeta%7D%3E%7Bentry.note%20%7C%7C%20%27No%20note%20supplied.%27%7D%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/View%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CTouchableOpacity%20style%3D%7Bstyles.secondaryButton%7D%20onPress%3D%7B%28%29%20%3D%3E%20shareEntry%28entry%29%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7Bstyles.secondaryButtonText%7D%3EShare%3C/Text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/TouchableOpacity%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/View%3E%0A%20%20%20%20%20%20%20%20%20%20%29%29%0A%20%20%20%20%20%20%20%20%29%7D%0A%20%20%20%20%20%20%3C/ScrollView%3E%0A%20%20%20%20%3C/SafeAreaView%3E%0A%20%20%29%3B%0A%7D%0A%0Aexport%20default%20function%20App%28%29%20%7B%0A%20%20return%20%28%0A%20%20%20%20%3CNavigationContainer%20theme%3D%7BappTheme%7D%3E%0A%20%20%20%20%20%20%3CTab.Navigator%0A%20%20%20%20%20%20%20%20screenOptions%3D%7B%28%7B%20route%20%7D%29%20%3D%3E%20%28%7B%0A%20%20%20%20%20%20%20%20%20%20headerShown%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20tabBarStyle%3A%20styles.tabBar%2C%0A%20%20%20%20%20%20%20%20%20%20tabBarActiveTintColor%3A%20%27%234cd964%27%2C%0A%20%20%20%20%20%20%20%20%20%20tabBarInactiveTintColor%3A%20%27%237b7e88%27%2C%0A%20%20%20%20%20%20%20%20%20%20tabBarIcon%3A%20%28%7B%20color%20%7D%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20switch%20%28route.name%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%27Map%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%3CTabIcon%20name%3D%22map%22%20color%3D%7Bcolor%7D%20/%3E%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%27Reports%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%3CTabIcon%20name%3D%22clipboard%22%20color%3D%7Bcolor%7D%20/%3E%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%27BLE%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%3CTabIcon%20name%3D%22bluetooth%22%20color%3D%7Bcolor%7D%20/%3E%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%27Camera%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%3CTabIcon%20name%3D%22camera%22%20color%3D%7Bcolor%7D%20/%3E%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%3CTabIcon%20name%3D%22ellipse%22%20color%3D%7Bcolor%7D%20/%3E%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%29%7D%0A%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%3CTab.Screen%20name%3D%22Map%22%20component%3D%7BMapScreen%7D%20/%3E%0A%20%20%20%20%20%20%20%20%3CTab.Screen%20name%3D%22Reports%22%20component%3D%7BFormsScreen%7D%20/%3E%0A%20%20%20%20%20%20%20%20%3CTab.Screen%20name%3D%22BLE%22%20component%3D%7BBleScreen%7D%20/%3E%0A%20%20%20%20%20%20%20%20%3CTab.Screen%20name%3D%22Camera%22%20component%3D%7BCameraScreen%7D%20/%3E%0A%20%20%20%20%20%20%3C/Tab.Navigator%3E%0A%20%20%20%20%3C/NavigationContainer%3E%0A%20%20%29%3B%0A%7D%0A%0Aconst%20styles%20%3D%20StyleSheet.create%28%7B%0A%20%20screen%3A%20%7B%0A%20%20%20%20flex%3A%201%2C%0A%20%20%20%20backgroundColor%3A%20%27%230f1115%27%2C%0A%20%20%7D%2C%0A%20%20screenCentered%3A%20%7B%0A%20%20%20%20flex%3A%201%2C%0A%20%20%20%20alignItems%3A%20%27center%27%2C%0A%20%20%20%20justifyContent%3A%20%27center%27%2C%0A%20%20%20%20padding%3A%2024%2C%0A%20%20%20%20backgroundColor%3A%20%27%230f1115%27%2C%0A%20%20%7D%2C%0A%20%20mapContainer%3A%20%7B%0A%20%20%20%20flex%3A%201%2C%0A%20%20%7D%2C%0A%20%20mapOverlay%3A%20%7B%0A%20%20%20%20position%3A%20%27absolute%27%2C%0A%20%20%20%20top%3A%2016%2C%0A%20%20%20%20left%3A%2016%2C%0A%20%20%20%20right%3A%2016%2C%0A%20%20%20%20borderRadius%3A%2012%2C%0A%20%20%20%20backgroundColor%3A%20%27rgba%2815%2C17%2C21%2C0.85%29%27%2C%0A%20%20%20%20padding%3A%2012%2C%0A%20%20%20%20borderWidth%3A%201%2C%0A%20%20%20%20borderColor%3A%20%27%231f2230%27%2C%0A%20%20%7D%2C%0A%20%20mapStatus%3A%20%7B%0A%20%20%20%20color%3A%20%27%23f4f6f9%27%2C%0A%20%20%20%20marginBottom%3A%208%2C%0A%20%20%20%20fontWeight%3A%20%27600%27%2C%0A%20%20%7D%2C%0A%20%20mapButtons%3A%20%7B%0A%20%20%20%20flexDirection%3A%20%27row%27%2C%0A%20%20%20%20alignItems%3A%20%27center%27%2C%0A%20%20%20%20justifyContent%3A%20%27space-between%27%2C%0A%20%20%20%20gap%3A%208%2C%0A%20%20%7D%2C%0A%20%20primaryButton%3A%20%7B%0A%20%20%20%20flexDirection%3A%20%27row%27%2C%0A%20%20%20%20alignItems%3A%20%27center%27%2C%0A%20%20%20%20justifyContent%3A%20%27center%27%2C%0A%20%20%20%20gap%3A%206%2C%0A%20%20%20%20backgroundColor%3A%20%27%234cd964%27%2C%0A%20%20%20%20paddingVertical%3A%2010%2C%0A%20%20%20%20paddingHorizontal%3A%2016%2C%0A%20%20%20%20borderRadius%3A%2010%2C%0A%20%20%7D%2C%0A%20%20primaryButtonText%3A%20%7B%0A%20%20%20%20color%3A%20%27%230f1115%27%2C%0A%20%20%20%20fontWeight%3A%20%27700%27%2C%0A%20%20%7D%2C%0A%20%20secondaryButton%3A%20%7B%0A%20%20%20%20borderWidth%3A%201%2C%0A%20%20%20%20borderColor%3A%20%27%234cd964%27%2C%0A%20%20%20%20paddingVertical%3A%2010%2C%0A%20%20%20%20paddingHorizontal%3A%2014%2C%0A%20%20%20%20borderRadius%3A%2010%2C%0A%20%20%7D%2C%0A%20%20secondaryButtonText%3A%20%7B%0A%20%20%20%20color%3A%20%27%234cd964%27%2C%0A%20%20%20%20fontWeight%3A%20%27600%27%2C%0A%20%20%7D%2C%0A%20%20dangerButton%3A%20%7B%0A%20%20%20%20borderWidth%3A%201%2C%0A%20%20%20%20borderColor%3A%20%27%23f75555%27%2C%0A%20%20%20%20paddingVertical%3A%2010%2C%0A%20%20%20%20paddingHorizontal%3A%2014%2C%0A%20%20%20%20borderRadius%3A%2010%2C%0A%20%20%7D%2C%0A%20%20dangerButtonText%3A%20%7B%0A%20%20%20%20color%3A%20%27%23f75555%27%2C%0A%20%20%20%20fontWeight%3A%20%27600%27%2C%0A%20%20%7D%2C%0A%20%20mapLoader%3A%20%7B%0A%20%20%20%20position%3A%20%27absolute%27%2C%0A%20%20%20%20bottom%3A%2024%2C%0A%20%20%20%20alignSelf%3A%20%27center%27%2C%0A%20%20%20%20flexDirection%3A%20%27row%27%2C%0A%20%20%20%20alignItems%3A%20%27center%27%2C%0A%20%20%20%20backgroundColor%3A%20%27rgba%2815%2C17%2C21%2C0.85%29%27%2C%0A%20%20%20%20padding%3A%2012%2C%0A%20%20%20%20borderRadius%3A%2010%2C%0A%20%20%20%20gap%3A%2012%2C%0A%20%20%7D%2C%0A%20%20mapLoaderText%3A%20%7B%0A%20%20%20%20color%3A%20%27%23f4f6f9%27%2C%0A%20%20%7D%2C%0A%20%20bottomSheet%3A%20%7B%0A%20%20%20%20maxHeight%3A%20240%2C%0A%20%20%20%20backgroundColor%3A%20%27%230f1115%27%2C%0A%20%20%20%20borderTopWidth%3A%201%2C%0A%20%20%20%20borderColor%3A%20%27%231f2230%27%2C%0A%20%20%20%20padding%3A%2016%2C%0A%20%20%7D%2C%0A%20%20listCard%3A%20%7B%0A%20%20%20%20backgroundColor%3A%20%27%23161920%27%2C%0A%20%20%20%20borderRadius%3A%2012%2C%0A%20%20%20%20padding%3A%2014%2C%0A%20%20%20%20marginBottom%3A%2012%2C%0A%20%20%20%20borderWidth%3A%201%2C%0A%20%20%20%20borderColor%3A%20%27%231f2230%27%2C%0A%20%20%20%20flexDirection%3A%20%27row%27%2C%0A%20%20%20%20gap%3A%2012%2C%0A%20%20%7D%2C%0A%20%20cardTitle%3A%20%7B%0A%20%20%20%20color%3A%20%27%23f4f6f9%27%2C%0A%20%20%20%20fontWeight%3A%20%27700%27%2C%0A%20%20%7D%2C%0A%20%20cardSubtitle%3A%20%7B%0A%20%20%20%20color%3A%20%27%23c1c4cd%27%2C%0A%20%20%20%20fontSize%3A%2012%2C%0A%20%20%20%20marginTop%3A%204%2C%0A%20%20%7D%2C%0A%20%20cardMeta%3A%20%7B%0A%20%20%20%20color%3A%20%27%238b8f9c%27%2C%0A%20%20%20%20fontSize%3A%2012%2C%0A%20%20%20%20marginTop%3A%204%2C%0A%20%20%7D%2C%0A%20%20emptyText%3A%20%7B%0A%20%20%20%20color%3A%20%27%238b8f9c%27%2C%0A%20%20%20%20marginTop%3A%2012%2C%0A%20%20%7D%2C%0A%20%20sectionHeader%3A%20%7B%0A%20%20%20%20flexDirection%3A%20%27row%27%2C%0A%20%20%20%20justifyContent%3A%20%27space-between%27%2C%0A%20%20%20%20alignItems%3A%20%27center%27%2C%0A%20%20%20%20marginBottom%3A%2012%2C%0A%20%20%7D%2C%0A%20%20sectionTitle%3A%20%7B%0A%20%20%20%20color%3A%20%27%23f4f6f9%27%2C%0A%20%20%20%20fontSize%3A%2018%2C%0A%20%20%20%20fontWeight%3A%20%27700%27%2C%0A%20%20%7D%2C%0A%20%20sectionSubtitle%3A%20%7B%0A%20%20%20%20color%3A%20%27%23c1c4cd%27%2C%0A%20%20%20%20marginBottom%3A%2012%2C%0A%20%20%7D%2C%0A%20%20sectionAction%3A%20%7B%0A%20%20%20%20color%3A%20%27%234cd964%27%2C%0A%20%20%20%20fontWeight%3A%20%27600%27%2C%0A%20%20%7D%2C%0A%20%20divider%3A%20%7B%0A%20%20%20%20borderBottomWidth%3A%201%2C%0A%20%20%20%20borderColor%3A%20%27%231f2230%27%2C%0A%20%20%20%20marginVertical%3A%2016%2C%0A%20%20%7D%2C%0A%20%20formsContainer%3A%20%7B%0A%20%20%20%20padding%3A%2016%2C%0A%20%20%20%20gap%3A%2012%2C%0A%20%20%7D%2C%0A%20%20segmentedControl%3A%20%7B%0A%20%20%20%20flexDirection%3A%20%27row%27%2C%0A%20%20%20%20borderWidth%3A%201%2C%0A%20%20%20%20borderColor%3A%20%27%231f2230%27%2C%0A%20%20%20%20borderRadius%3A%2012%2C%0A%20%20%20%20overflow%3A%20%27hidden%27%2C%0A%20%20%7D%2C%0A%20%20segmentButton%3A%20%7B%0A%20%20%20%20flex%3A%201%2C%0A%20%20%20%20paddingVertical%3A%2012%2C%0A%20%20%20%20backgroundColor%3A%20%27transparent%27%2C%0A%20%20%7D%2C%0A%20%20segmentButtonActive%3A%20%7B%0A%20%20%20%20backgroundColor%3A%20%27%231f2230%27%2C%0A%20%20%7D%2C%0A%20%20segmentButtonText%3A%20%7B%0A%20%20%20%20textAlign%3A%20%27center%27%2C%0A%20%20%20%20color%3A%20%27%238b8f9c%27%2C%0A%20%20%20%20fontWeight%3A%20%27600%27%2C%0A%20%20%7D%2C%0A%20%20segmentButtonTextActive%3A%20%7B%0A%20%20%20%20color%3A%20%27%234cd964%27%2C%0A%20%20%7D%2C%0A%20%20inputBlock%3A%20%7B%0A%20%20%20%20marginBottom%3A%2012%2C%0A%20%20%7D%2C%0A%20%20inputLabel%3A%20%7B%0A%20%20%20%20color%3A%20%27%23c1c4cd%27%2C%0A%20%20%20%20marginBottom%3A%206%2C%0A%20%20%20%20fontWeight%3A%20%27600%27%2C%0A%20%20%7D%2C%0A%20%20textInput%3A%20%7B%0A%20%20%20%20minHeight%3A%2048%2C%0A%20%20%20%20borderRadius%3A%2010%2C%0A%20%20%20%20borderWidth%3A%201%2C%0A%20%20%20%20borderColor%3A%20%27%231f2230%27%2C%0A%20%20%20%20paddingHorizontal%3A%2012%2C%0A%20%20%20%20paddingVertical%3A%2010%2C%0A%20%20%20%20color%3A%20%27%23f4f6f9%27%2C%0A%20%20%20%20backgroundColor%3A%20%27%23161920%27%2C%0A%20%20%7D%2C%0A%20%20formActionRow%3A%20%7B%0A%20%20%20%20flexDirection%3A%20%27row%27%2C%0A%20%20%20%20gap%3A%2010%2C%0A%20%20%20%20alignItems%3A%20%27center%27%2C%0A%20%20%7D%2C%0A%20%20tabBar%3A%20%7B%0A%20%20%20%20backgroundColor%3A%20%27%23161920%27%2C%0A%20%20%20%20borderTopColor%3A%20%27%231f2230%27%2C%0A%20%20%7D%2C%0A%20%20photoThumb%3A%20%7B%0A%20%20%20%20width%3A%2056%2C%0A%20%20%20%20height%3A%2056%2C%0A%20%20%20%20borderRadius%3A%208%2C%0A%20%20%7D%2C%0A%20%20cameraWrapper%3A%20%7B%0A%20%20%20%20borderRadius%3A%2012%2C%0A%20%20%20%20overflow%3A%20%27hidden%27%2C%0A%20%20%20%20borderWidth%3A%201%2C%0A%20%20%20%20borderColor%3A%20%27%231f2230%27%2C%0A%20%20%20%20aspectRatio%3A%201%2C%0A%20%20%20%20backgroundColor%3A%20%27%23050608%27%2C%0A%20%20%7D%2C%0A%20%20camera%3A%20%7B%0A%20%20%20%20flex%3A%201%2C%0A%20%20%7D%2C%0A%7D%29%3B%0A
